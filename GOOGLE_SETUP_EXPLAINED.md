# Зачем нужны "Авторизованные источники JavaScript" и "Авторизованные URI перенаправления"?

## Простое объяснение

Google использует эти настройки для **безопасности** - чтобы только ваше приложение могло использовать ваш OAuth ключ.

## Как это работает:

### 1. Авторизованные источники JavaScript (Authorized JavaScript origins)

**Что это:** Список URL, с которых разрешено делать запросы к Google API.

**Зачем нужно:** 
- Представьте, что кто-то украл ваш Client ID
- Без этой настройки злоумышленник мог бы использовать ваш ключ со своего сайта
- С этой настройкой Google проверяет: "Запрос идет с `http://localhost:8000`? Да, это разрешено. Запрос идет с `evil-site.com`? Нет, отклоняю!"

**Пример:**
```
✅ http://localhost:8000  - разрешено (ваш локальный сервер)
✅ https://myapp.com      - разрешено (ваш сайт)
❌ https://evil-site.com  - запрещено (не в списке)
```

### 2. Авторизованные URI перенаправления (Authorized redirect URIs)

**Что это:** Список URL, на которые Google может перенаправлять пользователя после авторизации.

**Зачем нужно:**
- После того, как пользователь вводит логин/пароль в окне Google, Google должен вернуть его обратно в ваше приложение
- Google проверяет: "Возвращаю пользователя на `http://localhost:8000`? Да, это разрешено. Возвращаю на `evil-site.com`? Нет, это подозрительно!"

**Пример:**
```
✅ http://localhost:8000  - разрешено (вернуть пользователя сюда)
✅ https://myapp.com      - разрешено (вернуть пользователя сюда)
❌ https://evil-site.com  - запрещено (не в списке)
```

## Визуализация процесса:

```
1. Пользователь нажимает "Войти с помощью Google"
   ↓
2. Ваше приложение (http://localhost:8000) отправляет запрос к Google
   ↓
3. Google проверяет: "Запрос с localhost:8000? Да, это в списке разрешенных!"
   ↓
4. Google открывает окно входа
   ↓
5. Пользователь вводит логин/пароль
   ↓
6. Google проверяет: "Вернуть на localhost:8000? Да, это в списке разрешенных!"
   ↓
7. Google возвращает пользователя на localhost:8000 с токеном доступа
   ↓
8. Ваше приложение получает токен и может работать с Google Drive
```

## Что будет, если не добавить?

Если вы не добавите эти настройки:

1. **При попытке входа через Google** вы получите ошибку:
   ```
   Error 400: redirect_uri_mismatch
   ```

2. Google откажет в авторизации, потому что не знает, что ваш сайт имеет право использовать этот ключ.

## Где именно это настраивается?

В Google Cloud Console:

1. **APIs & Services** → **Credentials**
2. Найдите ваш **OAuth 2.0 Client ID**
3. Нажмите на него (карандаш для редактирования)
4. В форме вы увидите два раздела:
   - **Authorized JavaScript origins** - добавьте `http://localhost:8000`
   - **Authorized redirect URIs** - добавьте `http://localhost:8000`

## Важно:

- Для **локальной разработки** используйте: `http://localhost:8000`
- Для **продакшена** (когда разместите на реальном домене) добавьте: `https://ваш-домен.com`
- Можно добавить несколько URL (для разработки и продакшена)

## Аналогия:

Представьте, что это как список доверенных друзей:
- Google говорит: "Я буду работать только с этими сайтами"
- Если сайт не в списке - Google откажет в доступе
- Это защищает от кражи и злоупотребления вашими ключами

